<p-dialog header="Central de Notifica√ß√µes üîî" [(visible)]="visivel" [modal]="true" [style]="{ width: '400px' }"
  [draggable]="false" [resizable]="false" (onHide)="fechar()" class="dialog-notification">
  <ng-template pTemplate="content">
    <!-- Indicador de carregamento -->
    <div *ngIf="carregando" class="loading">Carregando notifica√ß√µes...</div>

    <!-- Lista de notifica√ß√µes com scroll -->
    <div *ngIf="!carregando && notificacoes.length > 0; else semNotificacoes" class="notificacoes-container">
      <div *ngFor="let n of notificacoes" class="notificacao-item" [ngClass]="{ lida: n.status === 'READ' }">
        <div class="notificacao-texto">
          <h4>
            {{ n.type === 'TERM_ALTER_DATE' ? 'Termo de Altera√ß√£o de Fatura' :
            n.type === 'BILL_PAID_ALTER_DATE' ? 'Boleto Compensado' :
            n.type === 'CONTRACT_CANCEL' ? 'Contrato Cancelado' :
            n.type === 'UPGRADE' ? 'Upgrade do contrato' :
            n.type === 'DOWNGRADE' ? 'Downgrade do contrato' :
            n.type === 'UPDATE_ADDRESS' ? 'Atualizar endere√ßo' :
            n.type === 'CANCEL_TEMPORARY_SUSPENSION' ? 'Cancelamento de suspens√£o temporaria' :
            n.type === 'TEMPORARY_SUSPENSION' ? 'Supens√£o temporaria' :
            n.type === 'TRANSFER_OWNERSHIP' ? 'Transferencia de titularidade' : n.type }}
          </h4>
          <p>{{ n.message }}</p>
          <span class="data">{{ n.createdAt | date : "short" }}</span>
        </div>
        <button *ngIf="n.status !== 'READ'" type="button" class="btn-lida" (click)="marcarComoLida(n.id)">
          Marcar como lida
        </button>
      </div>
    </div>

    <!-- Mensagem de vazio -->
    <ng-template #semNotificacoes>
      <p class="sem-notificacoes">Nenhuma notifica√ß√£o no momento.</p>
    </ng-template>
  </ng-template>
</p-dialog>