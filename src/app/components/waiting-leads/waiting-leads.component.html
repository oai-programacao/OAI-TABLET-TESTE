<div class="leads-container">
  <app-card-base header="ğŸ“¦ GestÃ£o de Vendas Arquivadas" width="auto" height="auto">
    <div class="btn-to-back">
      <p-button 
        icon="pi pi-arrow-left" 
        [rounded]="true" 
        severity="danger" 
        [size]="'large'"
        (onClick)="backToSearch()">
      </p-button>
    </div>

    <div class="container">
  
      <div *ngIf="isLoading" class="loading-container">
        <p-progressSpinner></p-progressSpinner>
        <p>Carregando vendas arquivadas...</p>
      </div>

    
      <div *ngIf="!isLoading && archivedSales.length === 0" class="empty-state">
        <i class="pi pi-inbox" style="font-size: 4rem; color: #ccc;"></i>
        <h3>Nenhuma venda arquivada</h3>
        <p>As vendas arquivadas aparecerÃ£o aqui.</p>
      </div>

    
      <div *ngIf="!isLoading && archivedSales.length > 0" class="card-container">
        <app-card-leads 
          *ngFor="let sale of archivedSales" 
          [data]="transformToCardData(sale)"
          (onCall)="callClient(sale.clientPhone || '')"
          (onEmail)="sendEmail(sale.clientEmail || '')"
          (onDelete)="deleteSale(sale)">
        </app-card-leads>
      </div>
    </div>
  </app-card-base>
</div>